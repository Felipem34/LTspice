Version 4
SHEET 1 2668 1044
WIRE 240 128 80 128
WIRE 464 128 304 128
WIRE 720 128 688 128
WIRE 816 128 800 128
WIRE 832 128 816 128
WIRE 1184 128 1104 128
WIRE 1296 128 1264 128
WIRE 688 144 688 128
WIRE 1104 144 1104 128
WIRE 80 160 80 128
WIRE 240 160 240 128
WIRE 304 160 304 128
WIRE 464 160 464 128
WIRE 816 160 816 128
WIRE 1296 160 1296 128
WIRE 688 240 688 224
WIRE 816 240 816 224
WIRE 1104 240 1104 224
WIRE 1296 240 1296 224
WIRE 80 272 80 240
WIRE 240 272 240 240
WIRE 304 272 304 240
WIRE 464 272 464 240
WIRE 96 448 80 448
WIRE 352 448 352 432
WIRE 320 464 208 464
WIRE 400 480 384 480
WIRE 560 480 560 464
WIRE 768 480 768 464
WIRE 880 480 880 464
WIRE 1456 480 1440 480
WIRE 1488 480 1456 480
WIRE 1600 480 1568 480
WIRE 0 496 0 448
WIRE 0 496 -32 496
WIRE 320 496 288 496
WIRE -32 512 -32 496
WIRE 288 512 288 496
WIRE 352 528 352 512
WIRE 0 544 0 496
WIRE 96 544 80 544
WIRE 1216 544 1216 528
WIRE 208 560 208 544
WIRE 880 576 880 560
WIRE 944 576 880 576
WIRE 1024 576 1008 576
WIRE 1056 576 1024 576
WIRE 880 592 880 576
WIRE 1456 592 1456 480
WIRE 1472 592 1456 592
WIRE 1600 608 1600 480
WIRE 1600 608 1536 608
WIRE 1632 608 1600 608
WIRE 1024 624 1024 576
WIRE 1328 624 1264 624
WIRE 1424 624 1408 624
WIRE 1472 624 1424 624
WIRE 656 640 560 640
WIRE 768 640 768 560
WIRE 768 640 720 640
WIRE 816 640 768 640
WIRE 1216 640 1216 624
WIRE 1424 640 1424 624
WIRE 1264 656 1264 624
WIRE 1504 656 1504 640
WIRE 560 672 560 640
WIRE 768 688 768 640
WIRE 880 704 880 688
WIRE 1264 752 1264 736
WIRE 1424 752 1424 720
WIRE -112 768 -144 768
WIRE 16 768 -32 768
WIRE 128 768 16 768
WIRE 272 768 128 768
WIRE 368 768 272 768
WIRE 400 768 368 768
WIRE 560 784 560 752
WIRE 768 784 768 768
WIRE 1024 784 1024 704
WIRE 128 800 128 768
WIRE -144 816 -144 768
WIRE 368 816 368 768
WIRE 16 832 16 768
WIRE 272 864 272 768
WIRE 128 880 128 864
WIRE 128 880 80 880
WIRE 128 896 128 880
WIRE -144 1008 -144 896
WIRE 16 1008 16 928
WIRE 128 1008 128 976
WIRE 272 1008 272 944
WIRE 368 1008 368 896
FLAG 80 272 0
FLAG 464 272 0
FLAG 240 272 0
FLAG 304 272 0
FLAG 1296 240 0
FLAG 1104 240 0
FLAG 816 240 0
FLAG 688 240 0
FLAG 208 560 0
FLAG 288 512 0
FLAG 96 544 -VCC
IOPIN 96 544 Out
FLAG 352 432 -VCC
IOPIN 352 432 In
FLAG 352 528 +VCC
IOPIN 352 528 In
FLAG 96 448 +VCC
IOPIN 96 448 Out
FLAG 400 480 OUT
IOPIN 400 480 Out
FLAG -32 512 0
FLAG 560 784 0
FLAG 880 784 0
FLAG 1024 784 0
FLAG 768 784 0
FLAG 1056 576 OUT
IOPIN 1056 576 Out
FLAG 768 464 VCC
IOPIN 768 464 In
FLAG 880 464 VCC
IOPIN 880 464 In
FLAG 560 464 VCC
IOPIN 560 464 In
FLAG 560 560 0
FLAG 1264 752 0
FLAG 1424 752 0
FLAG 1504 656 0
FLAG 1216 640 0
FLAG 1632 608 OUT
IOPIN 1632 608 Out
FLAG 1312 512 0
FLAG 832 128 OUT
IOPIN 832 128 Out
FLAG 1216 528 VCC
IOPIN 1216 528 In
FLAG 1312 432 VCC
IOPIN 1312 432 In
FLAG 1504 576 VCC
IOPIN 1504 576 In
FLAG 368 1008 0
FLAG 128 1008 0
FLAG -144 1008 0
FLAG 400 768 OUT
IOPIN 400 768 Out
FLAG 16 1008 0
FLAG 272 1008 0
SYMBOL voltage 80 144 R0
WINDOW 3 -139 5 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 -102 91 Left 2
SYMATTR Value SINE(0 1 1)
SYMATTR SpiceLine Rser=.1
SYMATTR InstName V1
SYMBOL ind2 224 256 M180
WINDOW 0 -26 82 Left 2
WINDOW 3 -27 40 Left 2
SYMATTR InstName L1
SYMATTR Value 1µ
SYMATTR Type ind
SYMBOL ind2 320 256 R180
WINDOW 0 -34 81 Left 2
WINDOW 3 -35 40 Left 2
SYMATTR InstName L2
SYMATTR Value 9µ
SYMATTR Type ind
SYMBOL res 448 144 R0
WINDOW 0 -29 33 Left 2
WINDOW 3 -18 73 Left 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL voltage 1104 128 R0
WINDOW 0 29 34 Left 2
WINDOW 3 -34 146 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 1u .5m 1m)
SYMBOL res 1280 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap 1280 160 R0
SYMATTR InstName C1
SYMATTR Value {X}
SYMBOL res 816 112 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL voltage 688 128 R0
WINDOW 0 -67 56 Left 2
WINDOW 3 -148 148 Left 2
SYMATTR InstName B1
SYMATTR Value V= exp(-time/20m)*sin(2*pi*1000*time)
SYMATTR Prefix B
SYMBOL cap 800 160 R0
SYMATTR InstName C2
SYMATTR Value 47n
SYMBOL voltage 208 448 R0
WINDOW 0 35 46 Left 2
WINDOW 3 30 79 Left 2
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL UniversalOpAmp2 352 480 M180
SYMATTR InstName U1
SYMBOL voltage 96 448 R90
WINDOW 0 -46 70 VRight 2
WINDOW 3 -45 8 VRight 2
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL voltage -16 544 R270
WINDOW 0 -45 16 VRight 2
WINDOW 3 -43 79 VRight 2
SYMATTR InstName V5
SYMATTR Value 12
SYMBOL npn 816 592 R0
SYMATTR InstName Q2
SYMATTR Value BC547B
SYMBOL res 864 688 R0
SYMATTR InstName R11
SYMATTR Value {X}
SYMBOL res 1008 608 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 752 464 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL voltage 560 656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V10
SYMATTR Value SINE(.5 1 10k)
SYMBOL voltage 560 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V11
SYMATTR Value 10
SYMBOL cap 720 624 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMBOL cap 1008 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 10µ
SYMBOL res 864 464 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 752 672 R0
SYMATTR InstName R15
SYMATTR Value 17k
SYMBOL voltage 1264 640 R0
WINDOW 3 -55 140 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(2.5 1.5 0 2m 2m 10m 50m)
SYMATTR InstName V6
SYMBOL res 1312 608 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 1408 624 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL AutoGenerated\\LM358 1536 624 R0
SYMATTR InstName U2
SYMBOL voltage 1216 528 R0
WINDOW 0 30 -9 Left 2
WINDOW 3 26 19 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 35 47 Left 2
SYMATTR InstName V7
SYMATTR Value 5
SYMATTR SpiceLine Rser=.1
SYMBOL res 1472 464 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 29 88 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 1344 464 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL AutoGenerated\\pot 1296 416 R0
WINDOW 0 -49 -24 Left 2
WINDOW 3 -91 1 Left 2
WINDOW 123 -99 27 Left 2
SYMATTR InstName U3
SYMATTR Value Rt = 1K
SYMATTR Value2 Val = 35
SYMATTR Description Resistor Potentiometer
SYMBOL voltage -144 800 R0
WINDOW 0 -53 15 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -41 96 Left 2
SYMATTR InstName V8
SYMATTR Value 24
SYMBOL res -128 752 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 65 VTop 2
SYMATTR InstName R8
SYMATTR Value 33
SYMBOL zener 144 864 R180
WINDOW 0 -38 59 Left 2
WINDOW 3 -101 7 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4733A
SYMBOL current 368 816 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 500m
SYMBOL npn 80 832 M0
SYMATTR InstName Q1
SYMATTR Value TIP122
SYMBOL res 112 880 R0
SYMATTR InstName R9
SYMATTR Value 680
SYMBOL res 256 848 R0
SYMATTR InstName R10
SYMATTR Value 330
TEXT 344 296 Left 2 !;tran 3u
TEXT 232 96 Left 2 !K L1 L2 1
TEXT -56 96 Left 2 ;Make transformers
TEXT 1248 304 Left 2 !;tran 3m
TEXT 1064 72 Left 2 !.step param X .1u .5u .1u
TEXT 1064 48 Left 2 ;Use variables
TEXT 552 304 Left 2 !;tran 0 100m 0 100n
TEXT 536 80 Left 2 ;Behavioval Voltage
TEXT 824 304 Left 2 ;V = I(R1)*V(R2)
TEXT 128 600 Left 2 !;dc V3 -2 2 0.1
TEXT -56 368 Left 2 ;AmpOp Comparator
TEXT 920 416 Left 2 !;tran 0 700u 300u
TEXT 832 376 Left 2 !.step param X 1.6k 3k .2k
TEXT 520 368 Left 2 ;TBJ as amplifier
TEXT 1576 712 Left 2 !;tran 0.2
TEXT 1512 400 Center 2 ;change 1V pk-pk to 3.5V pk-pk
TEXT -88 976 Left 2 !.tran 1
TEXT -168 712 Left 2 ;https://www.youtube.com/watch?v=RHrlNJrPgPg
TEXT -168 680 Left 2 ;Use zener with high power dissipation
LINE Normal 272 240 272 160 2
RECTANGLE Normal -64 80 496 320 2
RECTANGLE Normal 1360 320 1056 32 2
RECTANGLE Normal 1024 320 528 64 2
RECTANGLE Normal 480 624 -64 352 2
RECTANGLE Normal 1136 816 512 352 2
RECTANGLE Normal 1712 800 1168 352 2
RECTANGLE Normal 480 1040 -208 656 2
